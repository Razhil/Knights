<dom-module id="game-panel">
  <template>
    <style include="game-panel-styles"></style>
    <div class="row">
      <div class="main-panel" style="width: {{model.width}}px">
<array-selector id="tileSelector" items="{{model.tiles}}" selected="{{selectedTile}}" toggle></array-selector>
<template is="dom-repeat" items="{{model.tiles}}">
  <tile-el id="tile{{index}}" model="{{item}}" on-tap="onTileTap"></tile-el>
</template>
<array-selector id="unitSelector" items="{{model.units}}" selected="{{selectedUnit}}" toggle></array-selector>
<array-selector id="targetSelector" items="{{model.units}}" selected="{{selectedTarget}}" toggle></array-selector>
<template is="dom-repeat" items="{{model.units}}">
  <unit-el model="{{item}}" on-tap="onUnitTap" on-mouseover="onUnitMouseOver" on-mouseout="onUnitMouseOut"></unit-el>
</template>
</div>
<template is="dom-if" if="{{selectedUnit}}">
  <div class="side-panel">
    <div class="unit-panel">
      <div>{{selectedUnit.name}}</div>
      <div>Class: {{selectedUnit.class}}</div>
      <div>Level: {{selectedUnit.level}}</div>
      <div>HP: {{selectedUnit.hp}}/{{selectedUnit.maxHp}}</div>
      <div>Strength: {{selectedUnit.strength}}</div>
      <div>Skill: {{selectedUnit.skill}}</div>
      <div>Speed: {{selectedUnit.speed}}</div>
      <div>Luck: {{selectedUnit.luck}}</div>
      <div>Defense: {{selectedUnit.defense}}</div>
      <div>Resistance: {{selectedUnit.resistance}}</div>
      <div>Move: {{selectedUnit.move}}</div>
      <div>Constitution: {{selectedUnit.constitution}}</div>
      <div>Aid: {{selectedUnit.aid}}</div>
    </div>
    <div class="item-panel">
      <template is="dom-repeat" items="{{selectedUnit.items}}">
        <div id="item{{index}}" on-tap="onItemTap">{{item.name}} : {{item.quantity}}</div>
      </template>
    </div>
  </div>
</template>
</div>
<template is="dom-if" if="{{selectedTarget}}">
  <div class="fight-panel">
    <div class="unit">
      <div>{{selectedUnit.name}}</div>
      <div>HP: {{selectedUnit.hp}}</div>
      <div>Damage: {{selectedUnit.damage}}</div>
      <div>Hit: {{selectedUnit.hit}}</div>
      <div>Critical: {{selectedUnit.critical}}</div>
    </div>
    <div class="unit">
      <div>{{selectedTarget.name}}</div>
      <div>HP: {{selectedTarget.hp}}</div>
      <div>Damage: {{selectedTarget.damage}}</div>
      <div>Hit: {{selectedTarget.hit}}</div>
      <div>Critical: {{selectedTarget.critical}}</div>
    </div>
  </div>
</template>
</template>
<script src="game-panel.js"></script>
</dom-module>